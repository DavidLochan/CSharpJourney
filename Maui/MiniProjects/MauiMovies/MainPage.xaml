<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="MauiMovies.MainPage"
             BackgroundColor="#0F0F0F">

    <Grid ColumnDefinitions="285,*">

        <!-- Sidebar -->
        <VerticalStackLayout
            Grid.Column="0"
            Padding="20"
            Spacing="20"
            BackgroundColor="#1A1A1A">

            <Label Text="🎬 MauiMovies"
                   FontSize="22"
                   FontAttributes="Bold"
                   TextColor="White"/>

            <Label Text="Home" FontSize="18" TextColor="#CCCCCC"/>
            <Label Text="Movies" FontSize="18" TextColor="White"/>
            <Label Text="Profile" FontSize="18" TextColor="#CCCCCC"/>
        </VerticalStackLayout>

        <!-- Main Content with FlexLayout -->
        <ScrollView Grid.Column="1">
            <FlexLayout
                Direction="Row"
                Wrap="Wrap"
                JustifyContent="Start"
                AlignItems="Start"
                Padding="24"
                BindableLayout.ItemsSource="{Binding Movies}">

                <BindableLayout.ItemTemplate>
                    <DataTemplate>
                        <VerticalStackLayout 
                            WidthRequest="210"
                            Margin="12"
                            Spacing="8">

                            <VerticalStackLayout.GestureRecognizers>
                                <PointerGestureRecognizer
                                    PointerEntered="OnPointerEntered"
                                    PointerExited="OnPointerExited"/>
                            </VerticalStackLayout.GestureRecognizers>

                            <Border 
                                StrokeThickness="1"
                                Stroke="#333"
                                BackgroundColor="#222"
                                HeightRequest="300"
                                WidthRequest="210">
                                <Border.StrokeShape>
                                    <RoundRectangle CornerRadius="12"/>
                                </Border.StrokeShape>

                                <Image Source="{Binding Poster}"
                                       Aspect="AspectFill"
                                       MinimumWidthRequest="180"/>
                            </Border>

                            <Label Text="{Binding Title}"
                                   TextColor="White"
                                   FontSize="15"
                                   FontAttributes="Bold"
                                   LineBreakMode="TailTruncation"
                                   MaxLines="2"/>

                            <Label Text="{Binding Rating, StringFormat='⭐ {0:F1}'}"
                                   TextColor="#F5C542"
                                   FontSize="14"/>
                        </VerticalStackLayout>
                    </DataTemplate>
                </BindableLayout.ItemTemplate>

            </FlexLayout>
        </ScrollView>

    </Grid>
</ContentPage>